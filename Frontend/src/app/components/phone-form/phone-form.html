<div class="container">
    <h2>{{ isEditMode ? 'Edit' : 'Add' }} Mobile Phone</h2>
    
    <div *ngIf="loading" class="loading">
      Loading phone details...
    </div>
    
    <div *ngIf="error" class="error">
      {{ error }}
    </div>
    
    <form *ngIf="!loading" (ngSubmit)="savePhone()" #phoneForm="ngForm">
      <div class="form-group">
        <label for="name">Name (max 15 characters)</label>
        <input 
          type="text" 
          id="name" 
          name="name" 
          [(ngModel)]="phone.name" 
          required 
          maxlength="15"
          #name="ngModel"
        >
        <div *ngIf="nameError" class="error-message">
          {{ nameError }}
        </div>
      </div>
      
      <div class="form-group">
        <label for="manufacturer">Manufacturer</label>
        <input 
          type="text" 
          id="manufacturer" 
          name="manufacturer" 
          [(ngModel)]="phone.manufacturer" 
          required
          #manufacturer="ngModel"
        >
        <div *ngIf="manufacturer.invalid && (manufacturer.dirty || manufacturer.touched)" class="error-message">
          Manufacturer is required.
        </div>
      </div>
      
      <div class="form-group">
        <label for="phoneNumber">Phone Number (exactly 9 digits)</label>
        <input 
          type="text" 
          id="phoneNumber" 
          name="phoneNumber" 
          [(ngModel)]="phone.phoneNumber" 
          required
          pattern="^\d{9}$"
          #phoneNumber="ngModel"
        >
        <div *ngIf="phoneNumberError" class="error-message">
          {{ phoneNumberError }}
        </div>
      </div>
      
      <div class="form-group">
        <label for="price">Price</label>
        <input 
          type="number" 
          id="price" 
          name="price" 
          [(ngModel)]="phone.price" 
          required 
          min="0" 
          step="0.01"
          #price="ngModel"
        >
        <div *ngIf="price.invalid && (price.dirty || price.touched)" class="error-message">
          Valid price is required.
        </div>
      </div>
      
      <div class="form-group checkbox">
        <input 
          type="checkbox" 
          id="inStock" 
          name="inStock" 
          [(ngModel)]="phone.inStock"
        >
        <label for="inStock">In Stock</label>
      </div>
      
      <div class="form-actions">
        <button type="button" [routerLink]="['/phones']" class="btn-cancel">Cancel</button>
        <button 
          type="submit" 
          [disabled]="submitting" 
          class="btn-save"
        >
          {{ submitting ? 'Saving...' : 'Save Phone' }}
        </button>
      </div>
    </form>
  </div>